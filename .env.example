# ================================
# BrowserOS Agent Server - Configuration
# ================================

# ------------------
# Required Settings
# ------------------

# Anthropic API Key (REQUIRED)
# Get your key from: https://console.anthropic.com/settings/keys
# Example: sk-ant-api03-xxxxx
ANTHROPIC_API_KEY=

# ------------------
# Server Settings
# ------------------

# WebSocket server port
PORT=3000

# Maximum concurrent agent sessions
# Recommended: 5 for development, 20+ for production
MAX_SESSIONS=5

# ------------------
# Timeout Settings (Phase 3.6 - New!)
# ------------------

# SESSION_IDLE_TIMEOUT_MS: Time to wait after agent completes before cleaning up session
# - Starts counting AFTER agent sends completion/error
# - User has this much time to send next query
# - Default: 90000 (90 seconds = 1.5 minutes)
# - Minimum: 30000 (30 seconds)
SESSION_IDLE_TIMEOUT_MS=90000

# EVENT_GAP_TIMEOUT_MS: Max time between consecutive agent events
# - Detects stuck/hanging agents during task execution
# - If no event for this long â†’ timeout and abandon task
# - Default: 60000 (60 seconds = 1 minute)
# - Minimum: 10000 (10 seconds)
# - Recommended: 60000 for normal tasks, 120000 for complex tasks
EVENT_GAP_TIMEOUT_MS=60000

# ------------------
# Optional Settings
# ------------------

# Logging level: debug, info, warn, error
LOG_LEVEL=info

# Environment: development, production
NODE_ENV=development

# ------------------
# Notes
# ------------------
#
# Timeout Behavior:
# - Long-running tasks (4+ min) can complete if events flow every <60s
# - Stuck tasks fail fast (60s of silence)
# - Idle sessions cleaned up 90s after completion
#
# For complex tasks (browser automation with many steps):
#   SESSION_IDLE_TIMEOUT_MS=180000    # 3 min
#   EVENT_GAP_TIMEOUT_MS=120000       # 2 min
#
# For quick tasks (API calls, simple queries):
#   SESSION_IDLE_TIMEOUT_MS=60000     # 1 min
#   EVENT_GAP_TIMEOUT_MS=30000        # 30 sec
